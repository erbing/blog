# ç¬¬äºŒç«  - 02ï¼š å‰ç«¯ æ­£åˆ™è¡¨è¾¾å¼ é­”æ³• ï¼ˆä¸Šï¼‰

>æ¥æºäºï¼šã€ŠJavaScript å¿è€…ç§˜ç±ã€‹

åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­å…¶å®ä¼šå¸¸å¸¸æœ‰é‡åˆ°åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è§£å†³ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜ã€‚æ¯”å¦‚è·å–å½“å‰é“¾æ¥çš„å‚æ•°ï¼ŒåŒ¹é…èº«ä»½è¯ã€æ‰‹æœºå·ã€å§“åã€éªŒè¯ç ç­‰ç­‰ç­‰ç­‰ã€‚é‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©çš„ å‰ç«¯ä¹‹è·¯ ç³»åˆ—å°±æ¥èŠä¸€èŠ æ­£åˆ™è¡¨è¾¾å¼ ï¼

[TOC]

## ä¸€ã€åˆ›å»ºï¼

> æ—¢ç„¶æ˜¯è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆå°±ä¸€å®šæ˜¯å­˜åœ¨åˆ›å»ºçš„è¿‡ç¨‹çš„ï¼Œå¦‚ä½•åˆ›å»ºï¼Ÿ

åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

	1ã€é¢å‘å­—é¢é‡ï¼š

```javascript
const pattern = /test/
```

	2ã€æ„é€  RegExp å®ä¾‹

```javascript
const pattern = new RegExp('test')

// pattern   ->  /test/
```

> ä¸¤ç§æ–¹å¼çš„æ¯”è¾ƒï¼š

	1ã€å¦‚æœæ­£åˆ™ï¼ˆè§„åˆ™ï¼‰æ˜¯å·²çŸ¥çš„ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©å­—é¢é‡è¯­æ³•ã€‚
	2ã€å¦‚æœæ˜¯éœ€è¦åœ¨è¿è¡Œçš„æ—¶å€™é€šè¿‡ åŠ¨æ€æ„å»ºçš„å­—ç¬¦ä¸²æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™éœ€è¦é€šè¿‡æ„é€ å™¨çš„æ–¹å¼

> æ­¤å¤–ï¼Œè¿˜æœ‰ä¸‰ä¸ªæ ‡å¿—å¯ä»¥å’Œæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå…³è”ï¼š

	1ã€ iï¼š è®©æ­£åˆ™è¡¨è¾¾å¼ä¸åŒºåˆ†å¤§å°å†™[ignore case]
	2ã€ g:  åŒ¹é…æ¨¡å¼ä¸­çš„æ‰€æœ‰å®ä¾‹ [global]
	3ã€ m:  å…è®¸åŒ¹é…å¤šè¡Œï¼Œä¾‹å¦‚åŒ¹é…æ–‡æœ¬å…ƒç´  [multiline]

	æˆ‘ä»¬å¯èƒ½å¯¹ä¸Šé¢è®²åˆ°çš„ ä¸‰ç‚¹ä¸å¤ªç†è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨æœ€ç®€å•çš„ä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ã€‚

` ### i: è®©æ­£åˆ™è¡¨è¾¾å¼ä¸åŒºåˆ†å¤§å°å†™[ignore case]`
```javascript
const reg = /test/i
const res1 = reg.test('testssss')	// true
const res2 = reg.test('Testssss')	// true

const reg2 = /test/
const res21 = reg2.test('testssss')	// true
const res22 = reg2.test('Testaaaa')	// false
```

` ### g: åŒ¹é…æ¨¡å¼ä¸­çš„æ‰€æœ‰å®ä¾‹ [global]`
```javascript
const reg = /s/
let res1 = 'testssss'.match(reg)
// ["s", index: 2, input: "testssss", groups: undefined]
// å¦‚æœåŒ¹é…åˆ°äº†ç¬¬ä¸€ä¸ªå°±

const reg2 = /s/g
let res2 = 'testssss'.match(reg2)
//  ["s", "s", "s", "s", "s"]
```

` ### m:  å…è®¸åŒ¹é…å¤šè¡Œï¼Œä¾‹å¦‚åŒ¹é…æ–‡æœ¬å…ƒç´  [multiline]`

```htmlbars
<div>
    <textarea id="text">
        hahaha
    </textarea>

    <button id='btn'>
        click
    </button>
</div>
```

```javascript
        var str = ''
        var reg1 = /$/g
        var reg2 = /$/mg
        var text = document.getElementById('text')
        var btn = document.getElementById('btn')
        btn.addEventListener('click', function(e) {
            // str = text.value
            str = '1\n2\n3\n4\n5'
            var s1 = reg1.test(str)    // ç©º
            var s2 = reg2.test(str)    // 2345
            console.log(RegExp.rightContext)
        })
```

	å…¶å®åˆ°äº†è¿™ä¸€æ­¥ï¼Œå¯¹äº m çš„ç”¨æ³•è¿˜ä¸æ˜¯ç‰¹åˆ«çš„æ¸…æ™°ï¼Œåé¢ï¼Œæˆ‘ä»¬é‡åˆ°äº†çœŸå®çš„é—®é¢˜ï¼Œä¼šå†æ¬¡å›æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚


## äºŒã€æœ¯è¯­ä¸æ“ä½œç¬¦

### 2.1 ç²¾ç¡®åŒ¹é…
>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ç‰¹æ®Šå­—ç¬¦æˆ–æ“ä½œç¬¦ï¼Œåˆ™è¡¨ç¤ºè¯¥å­—ç¬¦å¿…é¡»åœ¨è¡¨è¾¾å¼ä¸­å‡ºç°ã€ä¾‹å¦‚/test/ä¸­æœ‰å››ä¸ªå­—ç¬¦ï¼Œå®ƒä»¬è¡¨ç¤ºè¿™å››ä¸ªå­—ç¬¦å¿…é¡»æŒ‰é¡ºåºä¸€ä¸ªæ¥ç€ä¸€ä¸ªçš„å‡ºç°ï¼Œæ‰èƒ½åŒ¹é…å¾—åˆ°ã€‚
	

### 2.2 åŒ¹é…ä¸€ç±»å­—ç¬¦

> `2.2.1` åŒ¹é…ä¸€ä¸ªæœ‰é™å­—ç¬¦é›†ä¸­çš„æŸä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œå¯ä»¥ç”¨ [ ]
` eg: `
```javascript
var reg = /[abc]/
var str1 = 'a'
var str2 = 'ab'
var str3 = 'ab'
var str4 = 'adc'
var str5 = 'dd'
var res1 = reg.test(str1)	// true
var res2 = reg.test(str2)	// true
var res3 = reg.test(str3)	// true
var res4 = reg.test(str4)	// true
var res5 = reg.test(str5)	// false

// æ€»ç»“ä¸‹æ¥å°±æ˜¯ [] å¯ä»¥ç”¨æ¥åŒ¹é…ä»»æ„æ‹¬å·å†…çš„å†…å®¹ã€‚
// /[abc]/  åŒ…å«äº† [a] [b] [c] [ab] [ac] [bc] [abc]
// åªè¦å­—ç¬¦ä¸²ä¸­åŒ…å«äº† ä¸Šè¿°è¡¨è¾¾å¼ä¸­çš„ä»»ä½•ä¸€ä¸ª éƒ½ç®—æ˜¯æ»¡è¶³éœ€æ±‚ã€‚ 

```

> `2.2.2` åŒ¹é…ä¸€ä¸ªæœ‰é™å­—ç¬¦é›†ä¹‹å¤–çš„å­—ç¬¦ï¼Œå¯ä»¥ç”¨ [^]
` eg: `

```javascript
var reg = /[^abc]/
var str1 = 'a'
var str2 = 'ab'
var str3 = 'ab'
var str4 = 'adc'
var str5 = 'dd'
var res1 = reg.test(str1)	// false
var res2 = reg.test(str2)	// false
var res3 = reg.test(str3)	// false
var res4 = reg.test(str4)	// true
var res5 = reg.test(str5)	// true

// æ€»ç»“ä¸‹æ¥å°±æ˜¯ [^] å¯ä»¥ç”¨æ¥åŒ¹é…ä»»æ„æ‹¬å·å†…ä»¥å¤–çš„å†…å®¹
// åªè¦å­—ç¬¦ä¸²ä¸­åŒ…å«äº† ä¸Šè¿°è¡¨è¾¾å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªä»¥å¤–çš„å­—ç¬¦ éƒ½ç®—æ˜¯æ»¡è¶³éœ€æ±‚ã€‚ 

```

> `2.2.3` åˆ¶å®šä¸€ä¸ªèŒƒå›´ï¼Œå¯ä»¥ä½¿ç”¨ [ - ]

` eg: `

```javascript
var reg = /[a-z]/
var str = 's'
var res = reg.test(str)	 
console.log(res)		// true
```

ä¾‹å¦‚[a-z]è¡¨ç¤ºçš„æ˜¯aåˆ°zä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦ï¼ˆåŒ…æ‹¬aï¼Œzï¼ŒæŒ‰å­—å…¸é¡ºåºï¼‰


### 2.3 è½¬ä¹‰

> å½“è¦åŒ¹é…ç‰¹æ®Šå­—ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œè½¬ä¹‰ï¼Œä¾‹å¦‚$,^,[ç­‰ï¼Œéœ€è¦ä½¿ç”¨åæ–œæ  \ 

` eg: `

```javascript
var reg1 = /\[/
var reg2 = /[/
var str = '['
var res1 = reg1.test(str)	// true
var res2 = reg2.test(str)	// æŠ¥é”™
```


### 2.4 åŒ¹é…å¼€å§‹ä¸ç»“æŸ

>  `2.4.1`  ç¬¦å·^å¦‚æœä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™è¡¨ç¤ºè¦ä»å­—ç¬¦ä¸²çš„å¼€å¤´å¼€å§‹åŒ¹é…
>  `2.4.2`  ç¬¦å·$ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œè¡¨ç¤ºè¯¥æ¨¡å¼å¿…é¡»å‡ºç°åœ¨å­—ç¬¦ä¸²çš„ç»“å°¾
`eg:`

```javascript
var reg1 = /^./g
var reg2 = /[a-d]/g
var reg3 = /.$/g

var str = 'esdasdasdasewcfefhdasjkld'
var res1 = str.match(reg1)
var res2 = str.match(reg2)
var res3 = str.match(reg3)

console.log(res1)	// e	å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ª
console.log(res2)	// ['d','a',...,'d']
console.log(res3)	// d	å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ª

```

### 2.5 é‡å¤å‡ºç°

> å½“åŒ¹é…è¿ç»­çš„ä»»æ„æ•°é‡ ç›¸åŒå­—ç¬¦æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„æ–¹å¼

#### 2.5.1  `?` :  å¯ä»¥å®šä¹‰è¯¥å­—ç¬¦æ˜¯å¯é€‰çš„ï¼Œå³å¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–è€…ä¸å‡ºç°

` eg: `

```javascript
var reg = /t?est/
var str1 = 'trrrrtttttttest'
var str2 = 'trrrrest'
var str3 = 'trrrrrst'
var res1 = reg.test(str1)
var res2 = reg.test(str2)
var res3 = reg.test(str3)
console.log(res1)		// true
console.log(res2)		// true
console.log(res3)		// false
```
 å¦‚ä½•ç†è§£å‘¢ï¼Ÿ  é—®å·è¡¨ç¤ºç–‘æƒ‘ğŸ¤” è¡¨ç¤º2ç§å¯èƒ½ï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰


#### 2.5.2  `+` :  ä¸€ä¸ªå­—ç¬¦è‡³å°‘å‡ºç°ä¸€æ¬¡

` eg: `

```javascript
var reg = /t+est/g
var str = 'testtttttest'
var res = str.match(reg)
console.log(res)	// ["test", "tttttest"]
```
 å¦‚ä½•ç†è§£å‘¢ï¼Ÿ åŠ å·è¡¨ç¤ºç›¸åŠ ã€‚é‚£ä¹ˆç›¸åŠ çš„è¯ï¼Œå°±æ˜¯è‡³å°‘å‡ºç°ä¸€æ¬¡


#### 2.5.3  `*` :  ä¸€ä¸ªå­—ç¬¦ä¸å‡ºç°æˆ–è€…å‡ºç°å¤šæ¬¡

` eg: `

```javascript
var reg = /t*est/g
var str1 = 'testest'
var str2 = 'testtttest'
var res1 = str1.match(reg)
var res2 = str2.match(reg)
console.log(res1)	// ["test", "est"]
console.log(res2)	// ["test", "tttest"]
```

 å¦‚ä½•ç†è§£å‘¢ï¼Ÿ æ˜Ÿå·è¡¨ç¤ºçš„  æ¯”ä»·éšæ„ ï¼Œ å¯ä»¥å‡ºç° ä¹Ÿå¯ä»¥ä¸å‡ºç°ã€‚ ç»¼åˆäº† åŠ å· å’Œ é—®å·ã€‚


#### 2.5.4  ` {n} ` :   è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ é‡å¤å‡ºç° n æ¬¡

` eg: `

```javascript
var reg = /t{4}/g
var str1 = 'testest'
var str2 = 'testtttest'
var res1 = str1.match(reg)
var res2 = str2.match(reg)
console.log(res1)	// null 
console.log(res2)	// ["tttt"]
```

 å¦‚ä½•ç†è§£å‘¢ï¼Ÿ è¿™ä¸ª n å…¶å®ç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ã€‚ næ¬¡ï½


#### 2.5.5  ` {n,m} ` :   è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ é‡å¤å‡ºç° n  è‡³ m æ¬¡

 ` eg: `

```javascript
var reg = /t{2,5}/g
var str1 = 'testest'
var str2 = 'testtttest'
var str3 = 'testtest'
var res1 = str1.match(reg)
var res2 = str2.match(reg)
var res3 = str3.match(reg)
console.log(res1)	// null 
console.log(res2)	// ["tttt"]
console.log(res3)	// ["tt"]
```

#### 2.5.6  ` {n,} ` :   è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ è‡³å°‘ é‡å¤å‡ºç° n  æ¬¡

 ` eg: `

```javascript
var reg = /t{1,}/g
var str1 = 'testest'
var str2 = 'testtttest'
var str3 = 'testtest'
var str4 = 'esaesa'
var res1 = str1.match(reg)
var res2 = str2.match(reg)
var res3 = str3.match(reg)
var res4 = str4.match(reg)
console.log(res1)	// ["t", "t", "t"]
console.log(res2)	// ["t", "tttt", "t"]
console.log(res3)	// ["t", "tt", "t"]
console.log(res4)	// null
```

>  `Tips`ï¼š  åœ¨åŒ¹é…çš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼šè´ªå©ªå’Œéè´ªå©ªã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯è´ªå©ªçš„ï¼Œå³ä¼šåŒ¹é…æ‰€æœ‰çš„å­—ç¬¦ç»„åˆï¼Œåœ¨æ“ä½œç¬¦åé¢åŠ ä¸€ä¸ª?ï¼Œå¯ä»¥è®©è¯¥è¡¨è¾¾å¼æˆä¸ºéè´ªå©ªçš„ï¼Œè¿›è¡Œæœ€å°é™åº¦çš„åŒ¹é…
> eg:
```javascript
var reg1 = /a+/g
var reg2 = /a+?/g
var str = 'aaa'
var res1 = str.match(reg1)	// ['aaa']
var res2 = str.match(reg2)	// ["a", "a", "a"]
```

> è¿™é‡Œæåˆ°äº†ä¸€ä¸ª æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ æ¦‚å¿µå°±æ˜¯ `è´ªå©ª` å’Œ `éè´ªå©ª`
> `è´ªå©ªåŒ¹é…` å°±æ˜¯ï¼š    æ­£åˆ™è¡¨è¾¾å¼ä¸€èˆ¬è¶‹å‘äº`æœ€å¤§é•¿åº¦`çš„åŒ¹é…ï¼ˆé»˜è®¤ä¸ºè´ªå©ªåŒ¹é…ï¼‰ã€‚
> `éè´ªå©ªåŒ¹é…` å°±æ˜¯ï¼š æ­£åˆ™è¡¨è¾¾å¼ `åŒ¹é…åˆ°å°±å¥½`äº†ï¼Œä¸å†ç»§ç»­å¾€åèµ°ã€‚
> åœ¨æ“ä½œç¬¦åé¢åŠ ä¸€ä¸ª `?`  å°±å¯ä»¥å°† è´ªå©ªå˜æˆéè´ªå©ªã€‚

